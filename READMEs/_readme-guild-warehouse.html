<style>
@import "https://fonts.googleapis.com/css?family=Open Sans:regular,semibold,italic,italicsemibold|Inconsolata&amp;v2";
body {
  font-family: "Open Sans";
  margin: 6em 2em 2em 2em;
}
body:before {
  content: '';
  position: fixed;
  top: 2%;
  right: 3%;
  height: 256px;
  width: 256px;
  background: url(https://indie-mmo.net/addon-readmes/images/global/fhiz-watermark.png) no-repeat 100% 100%;
  background-size: contain;
  z-index: 10;
  opacity: 0.5;
}
h1, h2, h3, h4 {
  font-weight: 600;
}
h1 {
  position: fixed;
  background: -webkit-linear-gradient(top, white 65%, rgba(255,255,255,0));
  background: -moz-linear-gradient(top, white 65%, rgba(255,255,255,0));
  background: -ms-linear-gradient(top, white 65%, rgba(255,255,255,0));
  background: -o-linear-gradient(top, white 65%, rgba(255,255,255,0));
  width: 100%;
  height: 80px;
  padding: 10px 10px 10px 1em;
  left: 0;
  top: 0;
  margin: 0;
}
h1 img {
  height: 30px;
  vertical-align: middle;
  margin-bottom: 8px;
}
a { color: navy; }
pre {
  background: #eee;
  margin-left: 2em;
  padding: 5px;
  border-left: 3px solid #ccc;
}
</style>

<h1>
<a href="https://www.patreon.com/Fhizban" target="_blank"><img src="https://indie-mmo.net/addon-readmes/images/global/patreon-badge.png" style="width:196px; height:48px"></a>
<a href="https://www.youtube.com/channel/UC31c_fqaRo7B-omggZcMhxA" target="_blank"><img src="https://indie-mmo.net/addon-readmes/images/global/youtube-icon.png" style="width:48px; height:48px"></a>
<a href="https://discord.gg/YkMbDHs" target="_blank"><img src="https://indie-mmo.net/addon-readmes/images/global/discord-icon.png" style="width:48px; height:48px"></a>
<a href="https://www.indie-mmo.net" target="_blank"><img src="https://indie-mmo.net/addon-readmes/images/global/link-icon.png" style="width:48px; height:48px"></a>
GUILD WAREHOUSE 2019.5
</h1>

<p>
<i>This is an adaption of the original warehouse script by Cioa. It adds a "Guild based warehouse" to the game. You must be in a Guild to access and only your guild members can deposit and withdraw items and gold to the warehouse. This allows players to share items across their guild members. You can use the original warehouse script in addition to this one, if you want.</i>
</p>

<center>
<img width="50%" src="http://indie-mmo.net/addon-readmes/images/guild-warehouse/guild-warehouse-1.jpg">
<img width="50%" src="http://indie-mmo.net/addon-readmes/images/guild-warehouse/guild-warehouse-2.jpg">
<img width="50%" src="http://indie-mmo.net/addon-readmes/images/guild-warehouse/guild-warehouse-3.jpg">
<img width="50%" src="http://indie-mmo.net/addon-readmes/images/guild-warehouse/guild-warehouse-4.jpg">
</center>

<hr>

<h3>Additional Requirements</h3>
<p>
Some UCE AddOns require other AddOns to be installed first in order to work properly:
<br><br>
This AddOn requires the following AddOns(s):
<pre>
<code><a href="https://indie-mmo.net/addon-readmes/_readme-tools.html" target="_blank">UCE Tools</a></code>
</pre>
</p>

<h3>Scripting Defines</h3>
<p>
Most UCE AddOns use "Scripting Defines" that are added automatically on import. Sometimes you might be required to manually add or remove such a define. In that case, locate your defines list and remove the define (including the semicolon ; at the end). You find defines in your project here: Edit -> Project Settings -> Player - > Scripting Define Symbols (you can learn more about Defines <a href="https://indie-mmo.net/scripting-define-symbols/">HERE</a>).
<br><br>
This AddOn uses the following define(s):
<pre>
<code>Uses no Defines</code>
</pre>
</p>

<h3>Core Changes</h3>
<p>
Many AddOns require changes to the uMMORPG3d core scripts in order to function. The most common core changes are listed in a extra ReadMe contained in the UCE Tools AddOn (see <a href="https://indie-mmo.net/addon-readmes/_required-core-changes.html">HERE</a>). The changes for this AddOn are repeated below as well:
<br><br>
This AddOn requires the following core change(s):

<details>
<summary><font color="red"><b>[Click]</b></font> Player.cs (ca. line 2763)</summary>
<p>
EXCHANGE this code block:
<pre><code>
    [Command]
    public void CmdLeaveGuild()
    {
        // validate
        if (InGuild())
            GuildSystem.LeaveGuild(guild.name, name);
    }

</code></pre>
...COMPLETELY with the code line below (adds a hook in the last part):
<pre><code>
    [Command]
    public void CmdLeaveGuild()
    {
        // validate
        if (InGuild()) {
            GuildSystem.LeaveGuild(guild.name, name);
        	resetGuildWarehouse();
        }
    }
</code></pre>
</p>
</details>

</p>

<hr>

<h2>INSTALLATION PROCESS</h2>

<h3>Integration Steps</h3>
<p>
<ol>
<li>[Note] For reference, check original install instructions by Cioa, the guild warehouse is installed in a similar way.</li>
<li>[Required] Add UCE_UI_GuildWarehouseUpgradePanel to your canvas</li>
<li>[Required] Add UCE_UI_GuildWarehouse to your canvas</li>
<li>[Required] Assign gold inventory text value on UCE_UI_GuildWarehouse</li>
<li>[Required] Assign guild warehouse upgrade panel on UCE_UI_GuildWarehouse</li>
<li>[Required] Attach UCE_UI_NpcGuildWarehouseDialogue to NpcDialogue in canvas</li>
<li>[Required] Add "ButtonGuildWarehouse" to NpcDialogue Buttons</li>
<li>[Required] Assign all properties in UCE_UI_NpcGuildWarehouseDialogue</li>
<li>[Required] Check "OffersGuildWarehouse" on any Npc</li>
<li>[Required] Edit both <b>Item Storage</b> and <b>Gold Storage</b>, as well as <b>Upgrade Cost</b> on the new "Warehouse Config" scriptable object.</li>
<li>[Required] Assign the "Warehouse Config" scriptable object to each one of your player prefabs.</li>
</ol>
</p>

<hr />

<h3>Videos</h3>

<p><i>none</i></p>

<h3>Additional Information</h3>

<p>You edit the guild warehouse size and upgrades on your player prefabs. You must make sure that they are the same on ALL player prefabs who can be in the same guild, otherwise it will cause errors!</p>

<h3>Version History</h3>
<p>
<ul>
<li>2019.0: Major update</li>
<li>2019.1: Added mySQL support</li>
<li>2019.2: Added upgradeable option</li>
<li>2019.3: Spring Cleaning 2019 (updated to uMMORPG 1166+, updated ReadMe, bugfixes)</li>
<li>2019.4: Added max gold and level to UI, added max gold feature, added warehouse config, warehouse now supports network zones</li>
<li>2019.5: Added limited access to vice or master only</li>
</ul>
</p>


<hr />
<p>(c) Fhiz - for personal and commercial game projects, not for sharing or re-sale</p>